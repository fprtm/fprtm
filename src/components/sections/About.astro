---
import { Icon } from "astro-icon/components";
import BackgroundGradient from "../common/BackgroundGradient.astro";

interface Props {
  title: string;
  description: string;
  bio: string;
  learning: {
    title: string;
    description: string;
    badge: string;
  };
  profileImage: {
    src: string;
    alt: string;
  };
}

const { title, description, bio, learning, profileImage } = Astro.props;
---

<section
  id="about"
  class="relative flex min-h-[80vh] items-center overflow-hidden bg-[#1a1a1a] py-24"
>
  <div class="container mx-auto px-6">
    <div
      class="relative flex flex-col items-center justify-between gap-12 md:flex-row"
    >
      <!-- Text Content (Bottom Left in reference, but we keep it accessible) -->
      <div class="z-10 order-2 flex flex-col gap-6 md:order-1 md:w-1/3">
        <div>
          <h2
            class="text-xs font-bold tracking-[0.2em] text-gray-400 uppercase"
          >
            About Me
          </h2>
          <h1
            class="mt-2 text-5xl font-bold tracking-tight text-white uppercase sm:text-6xl"
          >
            {title}
          </h1>
          <p class="mt-4 text-lg font-light text-gray-300">
            {bio}
          </p>
        </div>

        <!-- Learning - Styled minimally -->
        <div class="border-l-2 border-white/20 pl-4">
          <h3 class="text-sm font-semibold tracking-wider text-white uppercase">
            {learning.title}
          </h3>
          <p class="mt-1 text-sm text-gray-400">{learning.description}</p>
          <div class="mt-3 flex items-center gap-2">
            <span class="relative flex h-2 w-2">
              <span
                class="absolute inline-flex h-full w-full animate-ping rounded-full bg-emerald-400 opacity-75"
              ></span>
              <span
                class="relative inline-flex h-2 w-2 rounded-full bg-emerald-500"
              ></span>
            </span>
            <span class="font-mono text-xs text-emerald-400"
              >{learning.badge}</span
            >
          </div>
        </div>
      </div>

      <!-- Center Image Composition -->
      <div
        class="relative order-1 flex w-full items-center justify-center md:order-2 md:w-2/3"
      >
        <!-- The Big White Circle -->
        <div
          class="absolute h-[300px] w-[300px] rounded-full bg-[#e6e6e6] md:h-[500px] md:w-[500px]"
        >
        </div>

        <!-- Image -->
        <div
          class="relative z-10 h-[350px] w-[300px] overflow-hidden md:h-[600px] md:w-[500px]"
        >
          <img
            src={profileImage.src}
            alt={profileImage.alt}
            class="h-full w-full object-cover object-center grayscale transition-all duration-500 hover:grayscale-0"
            style="mask-image: linear-gradient(to bottom, black 80%, transparent 100%);"
          />
        </div>

        <!-- Floating Element (Optional, keeps the 'Learning' visual interesting) -->
        <div class="absolute -right-4 bottom-1/4 z-20 hidden md:block">
          <Icon
            name="lucide:arrow-right-circle"
            class="h-12 w-12 text-white opacity-80"
          />
        </div>
      </div>

      <!-- Right Side Navigation/Decoration (Mimicking reference menu) -->
      <div
        class="absolute top-1/2 right-6 hidden -translate-y-1/2 flex-col gap-8 text-xs font-medium text-gray-500 md:flex"
      >
        <span>01</span>
        <span class="text-white">02</span>
        <span>03</span>
      </div>
    </div>
  </div>
</section>
